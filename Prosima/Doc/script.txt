CREATE TABLE CAD_FICHA_AVL (
    IDCURSO              SMALLINT NOT NULL,
    IDTURMA              INTEGER NOT NULL,
    ID_FICHA      INTEGER NOT NULL,
    ID_ATCO       CHAR(20) NOT NULL,
    ID_AVL        CHAR(20) NOT NULL,
    Id_Exercicio  Integer not null,
    ID_INSTRUTOR  INTEGER NOT NULL,
    NOMECOMPLETO  VARCHAR(120),
    DATA_AVL      DATE,
    LOCAL         VARCHAR(50),
    MEDIA         NUMERIC(2,2),
    PARECER       BLOB SUB_TYPE 0 SEGMENT SIZE 80,
    NS            CHAR(1),
 CONSTRAINT PK_CAD_FICHA_AVL PRIMARY KEY (IDCURSO, IDTURMA, ID_ATCO, ID_FICHA, ID_AVL, Id_Exercicio)
)


CREATE TABLE AVALIACAO (
    IDCURSO              SMALLINT NOT NULL,
    IDTURMA              INTEGER NOT NULL,
    ID_FICHA      INTEGER NOT NULL,
    ID_ATCO       CHAR(20) NOT NULL,
    ID_AVL        CHAR(20) NOT NULL,
    Id_Exercicio  Integer not null,
    ID_ITEM         CHAR(1) NOT NULL,
    OTIMO           CHAR(1),
    BOM             CHAR(1),
    REGULAR         CHAR(1),
    NS              CHAR(1),
    NA              CHAR(1),
    AREA_AVALIACAO  VARCHAR(50),
    DESCRICAO       VARCHAR(60),
CONSTRAINT PK_AVALIACAO PRIMARY KEY (IDCURSO, IDTURMA, ID_ATCO, ID_FICHA, ID_AVL, Id_Exercicio, ID_ITEM )
)


CREATE TABLE REL_NS (
    IDCURSO              SMALLINT NOT NULL,
    IDTURMA              INTEGER NOT NULL,
    ID_FICHA      INTEGER NOT NULL,
    ID_ATCO       CHAR(20) NOT NULL,
    ID_AVL        CHAR(20) NOT NULL,
    Id_Exercicio  Integer not null,
    DESCRICAO   VARCHAR(500),
 CONSTRAINT PK_REL_NS PRIMARY KEY (IDCURSO, IDTURMA, ID_ATCO, ID_FICHA, ID_AVL)
)

CREATE TABLE CAD_PARECER (
    IDCURSO              SMALLINT NOT NULL,
    IDTURMA              INTEGER NOT NULL,
    ID_ATCO     INTEGER NOT NULL,
    ID_FICHA    INTEGER NOT NULL,
    ID_AVL      INTEGER NOT NULL,
    PARECER     BLOB SUB_TYPE 0 SEGMENT SIZE 80,
 CONSTRAINT PK_CAD_PARECER PRIMARY KEY (IDCURSO, IDTURMA, ID_ATCO, ID_FICHA, ID_AVL)
);

